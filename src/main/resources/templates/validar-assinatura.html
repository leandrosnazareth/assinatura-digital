<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="pt-br" xml:lang="pt-br">


<head>
    <meta charset="UTF-8">
    <title>Validação de Assinatura</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>

<body class="bg-light">
    <div class="container py-4">
        <div class="row justify-content-center">
            <div class="col-12 col-md-8 col-lg-6">
                <div class="card shadow-sm">
                    <div class="card-body">
                        <h2 class="card-title text-center mb-4 text-primary">Validação de Assinatura</h2>
                        <form th:action="@{/validar}" method="post" class="mb-4">
                            <div class="mb-3">
                                <label for="token" class="form-label">Token da Assinatura:</label>
                                <input type="text" name="token" id="token" class="form-control" required />
                            </div>
                            <div class="d-grid gap-2">
                                <button type="submit" class="btn btn-primary btn-lg">Validar</button>
                            </div>
                        </form>
                        <div th:if="${assinatura}">
                            <div class="alert alert-success text-center">Assinatura encontrada!</div>
                            <ul class="list-group mb-3">
                                <li class="list-group-item"><b>Nome:</b> <span th:text="${assinatura.nome}"></span></li>
                                <li class="list-group-item"><b>Email:</b> <span th:text="${assinatura.email}"></span>
                                </li>
                                <li class="list-group-item"><b>Data/Hora:</b> <span
                                        th:text="${#temporals.format(assinatura.dataHora, 'dd/MM/yyyy HH:mm')}"></span>
                                </li>
                                <li class="list-group-item"><b>Token:</b> <span th:text="${assinatura.token}"></span>
                                </li>
                            </ul>
                            <div class="text-center">
                                <img th:src="${assinatura.imagemBase64}" alt="Assinatura"
                                    style="max-width:350px;max-height:120px;border:1px solid #1976d2;border-radius:6px;background:#f8fafc;" />
                            </div>
                        </div>
                        <div th:if="${erro}" class="alert alert-danger text-center" th:text="${erro}"></div>
                    </div>
                    <a th:href="@{/}" class="d-block text-center mt-3 text-decoration-none text-secondary">Voltar ao
                        menu principal</a>
                </div>
            </div>
        </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>

</html>